<main class="main" id="main">
    
    <div class="card p-3">
        <app-pagetitle pagetitle="Edit Practitioner"></app-pagetitle>
        <form #form="ngForm" class="row mt-2">
            <div class="col-md-3">                                
                <app-cataloguedropdowncontrolconcomponent [catId]="groupId" DDerrmsg="{{groupdropdownMessage}}" lblname="Practitioner Group " dropdowntitle="Group" selectstyle="textbox" (selectedvalue)=onGroup($event) defaultValue="groupId" [categories]="groupactivelist" filedName="name"  fieldId="id"class="bg-white bg-none"  *ngIf="Isshowselectbox"></app-cataloguedropdowncontrolconcomponent>                                            
            </div>
            <div class="col-md-3">                                
                <app-cataloguedropdowncontrolconcomponent [catId]="categoryId" DDerrmsg="{{pracategorydropdownMessage}}" lblname="Category " dropdowntitle="Category" selectstyle="textbox" (selectedvalue)=onCategory($event) defaultValue="categoryId" [categories]="pracategoryactivelist" filedName="name"  fieldId="id"class="bg-white bg-none"  *ngIf="Isshowselectbox"></app-cataloguedropdowncontrolconcomponent>                                            
            </div>
            <div class="col-md-6">                
                <app-inputcontrol errmsg="{{nameMessage}}"  [(inputModel)]="pcmName" lblname="Name" type="text" inptclass="mb-3"  inputstyle="textbox"></app-inputcontrol>
            </div>
            <div class="col-md-3">                
                <app-inputcontrol errmsg="{{ClinicNameMessage}}" [(inputModel)]="pcmClinicName" lblname="Clinic Name" type="text" inptclass="mb-3"  inputstyle="textbox"></app-inputcontrol>
            </div>
            <div class="col-md-3">                
                <app-inputcontrol errmsg="{{contactMessage}}"  [star]="false" [(inputModel)]="pcmContactNo" lblname="Contact" type="number" inptclass="mb-3"  inputstyle="textbox"></app-inputcontrol>
            </div>
            <div class="col-md-3">                
                <app-inputcontrol errmsg="{{emailMessage}}"  [(inputModel)]="pcmEmail" lblname="Email" type="Email" inptclass="mb-3"  inputstyle="textbox"></app-inputcontrol>
            </div>
            <div class="col-md-3">
                <div class="position-relative">               
                <app-inputcontrol errmsg="{{passwordMessage}}"  [(inputModel)]="pcmPassword" lblname="Password" type="{{psdType}}" inptclass="mb-3"  inputstyle="textbox"></app-inputcontrol>                
                <button (click)="oneye()" type="button" class="btn btn-transparent eye-icon new-eye" >
                    <i  *ngIf="this.iseye==false" class="bi bi-eye-slash text-dark fw-bold"></i>
                    <i  *ngIf="this.iseye==true" class="bi bi-eye text-dark fw-bold"></i>
                </button>
            </div> 
            </div>
            <!-- <div class="col-md-2">                                
                <app-cataloguedropdowncontrolconcomponent [catId]="stateId" DDerrmsg="{{statedropdownMessage}}" lblname="State " dropdowntitle="State" selectstyle="textbox" (selectedvalue)=onState($event) defaultValue="stateId" [categories]="stateactivelist" filedName="stmName"  fieldId="id"class="bg-white bg-none"  *ngIf="Isshowselectbox"></app-cataloguedropdowncontrolconcomponent>                                            
            </div>
            <div class="col-md-2">                                
                <app-cataloguedropdowncontrolconcomponent [catId]="cityId" DDerrmsg="{{citydropdownMessage}}" lblname="City " dropdowntitle="City" selectstyle="textbox" (selectedvalue)=onCity($event) defaultValue="catalogueId" [categories]="cityactivelist" filedName="ctmTitle"  fieldId="id"class="bg-white bg-none"  *ngIf="Isshowselectbox"></app-cataloguedropdowncontrolconcomponent>                                            
            </div>
            <div class="col-md-12">                
                <app-inputcontrol errmsg="{{addressMessage}}"  [(inputModel)]="pcmAddress" lblname="Address" type="text" inptclass="mb-3"  inputstyle="textbox"></app-inputcontrol>
            </div> -->
            <!-- <div class="col-md-2">
                <app-toggleswitchcontrol [(inputModel)]="pcmIsDefault" lablActive="Default"></app-toggleswitchcontrol>
            </div> -->
            <div class="col-md-12">                
                <app-inputcontrol errmsg="{{slugMessage}}"  [(inputModel)]="pcmSlug" lblname="Store Url" type="text" inptclass="mb-3"  inputstyle="textbox"></app-inputcontrol>
            </div>
            <div class="col-md-12">
                <app-toggleswitchcontrol [(inputModel)]="pcmIsActive" lablActive="Active user as a Practitioner"></app-toggleswitchcontrol>
            </div>
                <div class="col-md-12 mt-3" *ngIf="pcmIsActive==false">
                    <div class="alert alert-warning">
                        <b>Note</b> : If user already registered as a patient, then their patient account will be de-activated.
                    </div>
                </div>
                
            <div class="col-md-12">
                <span class="text-danger">{{mes}}</span>
            </div>
            <img *ngIf="loading" style="width:70px;height:70px;object-fit: contain;" class="d-block mx-auto" class="loader-img" src="/assets/images/loader.gif" />
            <div class="col-md-12 text-end">    
                <app-buttoncontrolconcomponent routerLink="/{{practitionerslistUrl}}" btnstyle="btn btn-cancel mt-3 me-2 border-0 text-dark px-3" btnname="Cancel"></app-buttoncontrolconcomponent>                
                <app-buttoncontrolconcomponent [btndisable]="loading" data-bs-target="#alert" data-bs-toggle="modal"  btnstyle="bg-theme2 mt-3 border-0 px-5 text-white" btnname="Save"></app-buttoncontrolconcomponent>                                     
            </div>
        </form>
    </div>
    <div class="modal fade" id="alert">
        <div class="modal-dialog modal-sm modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h6 class="mb-0">Update Detail</h6>
                    <button class="btn-close border rounded-circle" data-bs-dismiss="modal"></button>
                </div>
                <div class="card-body pt-3 px-1">
                    <p class="text-center small">Are you sure to update this detail?</p>
                    <app-buttoncontrolconcomponent class="btn btn-link btn-sm float-end text-decoration-none text-dark p-0"  data-bs-dismiss="modal" btnname="No"></app-buttoncontrolconcomponent>                                    
                    <app-buttoncontrolconcomponent [btndisable]="loading" (click)="onSubmit(form)" data-bs-dismiss="modal"  class="btn btn-link btn-sm float-end text-decoration-none p-0" btnname="Yes"></app-buttoncontrolconcomponent>                                     
                </div>
            </div>
        </div>
    </div>      
</main>
